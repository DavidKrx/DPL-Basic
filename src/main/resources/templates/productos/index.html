<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>My First HTML Page</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>
<div th:replace="~{fragment/header::menu}"></div>
<main class="mx-3 my-3">
    <a class="btn btn-success" th:if="${ADMIN || MANAGER}" th:href="'create/'">Nuevo Producto</a>
    <table class="table table-striped table-dark mx-auto w-75">
        <thead>
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Precio</th>
            <th>Stock</th>
            <th>Municipio</th>
            <th>Provincia</th>
            <th>Imagen</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="producto : ${productos}">
            <td th:text="${producto.id}"></td>
            <td th:text="${producto.nombre}"></td>
            <td th:text="${producto.precio}"></td>
            <td th:text="${producto.stock}"></td>
            <td th:text="${producto.municipio.nombre}"></td>
            <td th:text="${producto.municipio.provincia.nombre}"></td>
            <td>
                <img th:src="'/imagenes/'+${producto.imagen}" alt="Girl in a jacket" width="100" height="100">
            </td>
            <td>
                <a class="btn btn-warning" th:href="'details/'+${producto.id}">Detalles</a>
                <a class="btn btn-success" th:if="${ADMIN}" th:href="'../carrito/add/'+${producto.id}">Comprar</a>
            </td>
        </tr>
        </tbody>
    </table>
</main>

</body>
</html>